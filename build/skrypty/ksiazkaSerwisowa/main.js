/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","obslugaJSON","zmienneGlobalne","kommTCP"],function(a,b,c,d){"use strict";var e,f,g=[],h=function(){a(e).empty(),a(e).dialog("close"),a(f).addClass("kopex-selected").addClass(c.ui_state)},i=function(){g=[],g=g.concat(b.szukajWartosci("licznikiEKS",c.sygnaly))},j=function(){var b,h,j,k,l,m,n,o,p,q,r,s,t;if(0===a("#DialogKsiazkaSerwisowa").length){for(e="#DialogKsiazkaSerwisowa",i(),b=document.createElement("div"),a(b).addClass("OknaDialog").addClass("ui-corner-all").attr("id","DialogKsiazkaSerwisowa"),a("body").append(b),a("#DialogKsiazkaSerwisowa").dialog({modal:!0,closeOnEscape:!1,height:a(document).height()/1.2,width:"90%",title:a(f).text()}),b=document.createElement("div"),a(b).addClass("panelTab").attr("id","tabsEKS").appendTo("#DialogKsiazkaSerwisowa"),l=document.createElement("ul"),a(l).appendTo("#tabsEKS"),p=c.danePlikuKonfiguracyjnego.MENU_EKS,h=0;h<p.length-1;h+=1)for(n=document.createElement("li"),o=document.createElement("a"),a(o).attr("href","#"+p[h].id).text(p[h].OPIS).appendTo(n),a(n).appendTo(l),b=document.createElement("div"),a(b).addClass("panelTab").css({width:"95%",overflow:"auto",height:"90%"}).attr("id",p[h].id).appendTo("#tabsEKS"),j=0;j<p[h].zawartosc.length;j+=1){for(t=g.length,k=0;t>k;k+=1)g[k].id===p[h].zawartosc[j].id&&(s="",q=d.daneTCP.analog[g[k].poz_ramka],q>0?(q=32767&q,r="[ "+q+" "+c.danePlikuKonfiguracyjnego.TEKSTY.dniDoPrzegladu+" ]"):0===q?r="":(s="red",r="[ "+Math.abs(q)+" "+c.danePlikuKonfiguracyjnego.TEKSTY.dniPoTerminie+" ]"));m=document.createElement("button"),a(m).addClass("buttonEKS").appendTo("#"+p[h].id).attr("id",p[h].zawartosc[j].id).text(p[h].zawartosc[j].OPIS+" "+r).css({color:s,margin:"0.3%",width:"95%","padding-left":"3%","text-align":"left","font-weight":"normal",top:"5%"}),"tab1eks"===p[h].id&&a(m).button("eks0"===p[h].zawartosc[j].id?{disabled:!1}:{disabled:!0})}a("div#tabsEKS").tabs(),a("div#tabsEKS").tabs("refresh"),a("button").button(),a("#DialogKsiazkaSerwisowa").dialog("open"),a("#DialogKsiazkaSerwisowa").addClass("kopex-selected")}a("#DialogKsiazkaSerwisowa").one("dialogclose",function(){a("#DialogKsiazkaSerwisowa").remove()})},k=function(b){f="#"+b,a(f).on("click",function(){j()}),require(["ksiazkaSerwisowa/odswiezaj"],function(a){a.inicjacja()})};return{inicjacja:k,zamknij:h}});