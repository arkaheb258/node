/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","kommTCP","dodajPojedynczaTabele","obslugaJSON"],function(a,b,c,d){"use strict";var e,f,g="#dialogDiagnostykaBloku",h=function(c){var h,i,j=[];for(a("#tabelaPLCMain").empty(),i=e.length,h=0;i>h;h+=1)e[h].PLCNR===c&&j.push(e[h]);d.dodaj({objects:j,id:"#tabelaPLCMain",cssDescription:"tdOpis",cssValue:"tdWartosc",advDiagn:!0}),a(g).dialog("option","position",{my:"center",at:"center",of:window}),clearInterval(f),f=setInterval(function(){require(["diagnostykaBloki/odswiezaj"],function(a){a.aktualizuj(j)})},b.czasOdswiezania)},i=function(){a(g).remove(),e=[],clearInterval(f),require(["diagnostykaBloki/main"],function(a){a.otworz()})},j=function(){var a,b,d,f=0,g=0,h=0;for(b=c.daneDiag,d=e.length,b.DigitData_Len!==d&&console.log("Nieprawidłowa ilość danych, DigitData_Len:"+b.DigitData_Len+" obiektyJson:"+d),a=0;d>a;a+=1)g>15&&(f+=1,g=0),e[a].pozWord=f,e[a].pozBit=g,e[a].id="tempId_"+f+"_"+g,("AN"===e[a].TYPWEWY||"NAM"===e[a].TYPWEWY)&&(e[a].pozAn=h,h+=1),g+=1},k=function(c,d){var f,i,k,l,m;if(e=d,j(),0===a(g).length){for(f=document.createElement("div"),a(f).addClass("OknaDialog").addClass("ui-corner-all").attr("id",g.replace("#","")),a("body").append(f),l=.7*a(window).width(),a(g).dialog({autoOpen:!1,modal:!0,closeOnEscape:!1,height:"auto",width:l,title:d[0].NBLK}),f=document.createElement("div"),a(f).attr("id","radio").attr("text","bla bla"),i=0;i<c.length;i+=1)k=document.createElement("button"),a(k).addClass("radioButtonDiagnBloki").attr("id",c[i]).text(c[i]).css({margin:"0.1em"}).appendTo(f).button();a(g).append(f),m=document.createElement("table"),a(m).addClass("tabelaSub").attr("id","tabelaPLCMain"),a(g).append(m),h(c[0]),a(g).dialog("open"),a("#radio").children().first().blur(),a("#radio").children().first().addClass("kopex-selected").addClass(b.ui_state)}};return{inicjacja:k,dodajSygnalyPLC:h,zamknij:i}});