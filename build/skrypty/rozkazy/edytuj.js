/*! Data kompilacji: Fri Oct 03 2014 10:52:28 */
define(["jquery","zmienneGlobalne","obslugaJSON"],function(a,b,c){"use strict";var d,e=!1,f=function(){var b;b=a("#keyboard").keyboard().getkeyboard(),null!==b&&b.isVisible()&&(b.close(),b.destroy()),a("#DialogEdycjaRozkazu").remove(),a("#menuRozkazy").addClass("kopex-selected")},g=function(){require(["progresBar"],function(a){a.inicjacja().done(function(a){a&&f()})}),c.wyslij(d.ROZK),console.log(d.ROZK)},h=function(e){var g,h=!1;g=a("#keyboard").keyboard().getkeyboard(),isNaN(e)?h=!1:(e=Number(e).toFixed(d.PREC),e=Number(e),h=e<d.MIN||e>d.MAX?!1:!0),h?(void 0!==d.ROZK.pozycja&&(d.ROZK.pozycja=e),void 0!==d.ROZK.wartosc&&(d.ROZK.wartosc=e),g.close(),g.destroy(),require(["progresBar"],function(a){a.inicjacja().done(function(a){a&&f()})}),c.wyslij(d.ROZK)):setTimeout(function(){g.$el.val(b.danePlikuKonfiguracyjnego.TEKSTY.paramZlaWartosc),setTimeout(function(){g.$el.val("")},1500)},200),console.log(d.ROZK)},i=function(){a("#keyboard").bind("canceled.keyboard",function(){f()}),a("#keyboard").bind("accepted.keyboard",function(a,b,c){h(c.value)})},j=function(){var c,e,f;c=document.createElement("div"),a(c).addClass("OknaDialog").attr("id","DialogEdycjaRozkazu"),a("body").append(c),a("#DialogEdycjaRozkazu").dialog({autoOpen:!1,modal:!0,closeOnEscape:!1,width:"55%",height:a(document).height()/1.75,title:d.OPIS,buttons:[{disabled:!0,text:b.danePlikuKonfiguracyjnego.TEKSTY.zatwierdz},{disabled:!0,text:b.danePlikuKonfiguracyjnego.TEKSTY.anuluj}]}),a("#menuRozkazy").removeClass("kopex-selected"),"pPotwierdzenie"===d.TYP?(a("#DialogEdycjaRozkazu").addClass("kopex-selected"),a("#DialogEdycjaRozkazu").dialog("option","height","auto"),e=d.OPIS2.replace(/\n/g,"<br>"),f=document.createElement("p"),a(f).attr("id","pParametrOpis").html(e).css({padding:"0.4em",border:"0.1em solid","border-color":"grey","font-style":"italic","font-size":"1.2em","text-align":"center","border-radius":"0.5em",width:"95%"}),a("#DialogEdycjaRozkazu").append(f)):require(["wspolne/dodajKlawiature"],function(a){a.inicjacja(d,"DialogEdycjaRozkazu"),i()}),a("#DialogEdycjaRozkazu").dialog("open")},k=function(){a("#menuRozkazy").one("menuselect",function(c,f){var h=f.item.attr("id");return c.preventDefault(),f.item.hasClass("ui-state-disabled")?void a("#menuRozkazy").menu("next"):void a.each(b.danePlikuKonfiguracyjnego.ROZKAZY,function(b,c){a.each(c,function(a,b){if(a===h){switch(d=b,d.TYP){case"pBrak":g(d);break;case"pWizu":break;case"pPotwierdzenie":case"pLiczba":case"pString":case"pCzas":j()}return void(e=!1)}})})})};return{inicjacja:k,zamknij:f,wyslijpBrak:g}});