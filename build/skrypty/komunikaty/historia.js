/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON"],function(a,b,c){"use strict";var d,e=0,f=0,g=function(){var g,h=!1;g=a("#accordion").accordion("option","active",g),3===g?(e!==b.komunikaty.alarmy&&(e=b.komunikaty.alarmy,h=!0),f!==b.komunikaty.ostrz&&(h=!0,f=b.komunikaty.ostrz),h===!0&&(h=!1,c.wyslij(b.doWyslania.historia))):clearInterval(d)},h=function(c){var e,f=document.createDocumentFragment(),h=function(a){return 10>a?"0"+a:a};console.log("odswiezam historie"),a("#listaHistoria").empty(),a.each(c,function(c,d){var g,i,j=new Date,k="",l="",m="";j.setTime(d.czas),k=j.getUTCFullYear()+"/"+h(j.getUTCMonth()+1)+"/"+h(j.getUTCDate())+" "+h(j.getUTCHours())+":"+h(j.getUTCMinutes())+":"+h(j.getUTCSeconds()),g=Math.floor(d.nr/16),i=d.nr%16,m=void 0!==b.tekstyKomunikatow[g]?k+" - "+d.typ+" - "+b.danePlikuKonfiguracyjnego.TEKSTY.kod+" "+d.nr+" - "+b.tekstyKomunikatow[g].bity[i].opis:k+" - "+d.typ+" - "+b.danePlikuKonfiguracyjnego.TEKSTY.kod+" "+d.nr+" - "+b.danePlikuKonfiguracyjnego.TEKSTY.BladTekstu+" word:"+g+" bit:"+i,l="komunikatKod"+c,e=document.createElement("li"),a(e).text(m).attr("id",l).addClass("ui-widget-content"),a(f).append(e)}),a("#listaHistoria").append(f),d=setInterval(function(){g()},b.czasOdswiezania)};return{inicjacja:h}});