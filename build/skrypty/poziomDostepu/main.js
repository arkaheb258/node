/*! Data kompilacji: Fri Oct 03 2014 10:52:28 */
define(["jquery","zmienneGlobalne","wspolne/dodajMenu","poziomDostepu/odswiezaj"],function(a,b,c,d){"use strict";var e,f,g,h,i,j,k="#DialogPoziomDostepu",l=function(){var c;c=a("#keyboard").keyboard().getkeyboard(),null!==c&&(c.close(),c.destroy()),a(k).empty(),a(k).dialog("close"),"accordion"===e?a("#"+e).addClass("kopex-selected"):"PelnaListaKomm"===e?a("#"+e).addClass("kopex-selected"):a("#"+e).addClass("kopex-selected").addClass(b.ui_state)},m=function(){var a,b,c,d,e,f,g,k;return d=getRandomInt(0,9),e=getRandomInt(0,9),f=getRandomInt(0,9),g=getRandomInt(0,9),k=d.toString()+e.toString()+f.toString()+g.toString(),c=d+e+f+g,a=Math.floor(c/10),b=c%10,h=1234,i=2*c+1,j=16*a+b,console.log("poprawnyWynikSrvc: "+i+" poprawnyWynikAdv: "+j),k},n=function(){var a=60*b.czasPodtrzymania*1e3;"Brak"!==b.czasPodtrzymania&&setTimeout(function(){d.inicjacja("User"),console.log("Zdejmuje poziom dostepu: "+b.poziomDostepu)},a)},o=function(){var c,d;d=a("#keyboard").keyboard().getkeyboard(),a("#pLiczbaLosowa").text(b.danePlikuKonfiguracyjnego.TEKSTY.pozDostKodNOK).css({backgroundColor:"red",opacity:"0.8","letter-spacing":"0"}),setTimeout(function(){c=m(),a("#pLiczbaLosowa").text(c).css({backgroundColor:"","letter-spacing":"0.5em"}),d.$el.val("")},1500)},p=function(){var c;c="Brak"===b.czasPodtrzymania?b.danePlikuKonfiguracyjnego.TEKSTY.pozDostKodOK:b.danePlikuKonfiguracyjnego.TEKSTY.pozDostKodOK+" "+b.danePlikuKonfiguracyjnego.TEKSTY.pozDostKodCzasPodtrz+" "+b.czasPodtrzymania.toString()+" "+b.danePlikuKonfiguracyjnego.TEKSTY.pozDostMinuty,a("#pLiczbaLosowa").text(c).css({backgroundColor:"green",opacity:"0.8","letter-spacing":"0"}),setTimeout(function(){l()},1500)},q=function(){a("#keyboard").bind("canceled.keyboard",function(){l()}),a("#keyboard").bind("accepted.keyboard",function(a,b,c){switch(f=c.value,g){case"User":h===parseInt(f,10)?(d.inicjacja("User"),p(),n()):o();break;case"Srvc":i===parseInt(f,10)?(d.inicjacja("Srvc"),p(),n()):o();break;case"Adv":j===parseInt(f,10)?(d.inicjacja("Adv"),p(),n()):o()}})},r=function(){a("#pLiczbaLosowa").text(b.danePlikuKonfiguracyjnego.TEKSTY.pozDostKodAktywny).css({position:"relative",top:"25%","letter-spacing":"0"}),setTimeout(function(){l()},1500)},s=function(c){var e,f,h,i,j;return"wyloguj"===c?(j=a("#wyloguj").text(),a("#wyloguj").addClass("ui-state-error"),a("#wyloguj").button("option","label",b.danePlikuKonfiguracyjnego.TEKSTY.wylogowano),setTimeout(function(){a("#wyloguj").removeClass("ui-state-error"),a("#wyloguj").button("option","label",j)},1e3),void d.inicjacja("User")):(g=c,f=b.danePlikuKonfiguracyjnego.TEKSTY.pozDostTytul+": "+c,a(k).empty(),a(k).dialog("option","title",f),a(k).dialog("open"),i=m(),h=document.createElement("p"),a(h).attr("id","pLiczbaLosowa").addClass("ui-corner-all").text(i).css({"font-size":"1.2em","text-align":"center","letter-spacing":"0.5em",width:"100%"}),a("#DialogPoziomDostepu").append(h),b.poziomDostepu===c?void r():(e=document.createElement("input"),a(e).attr("id","keyboard").attr("type","password").addClass("keyboardNaviPozDost").css({"font-size":"1.5em","text-align":"center",width:"15em"}),a(k).append(e),a("#keyboard").keyboard({alwaysOpen:!0,stayOpen:!0,layout:"custom",usePreview:!1,initialFocus:!1,customLayout:{"default":["6 7 8 9","2 3 4 5","0 1 {bksp} ","{accept} {cancel}"]}}).addNavigation({position:[0,0],toggleMode:!0,focusClass:"hasFocus"}),a("#keyboard").addClass("kopex-selected").focus(),void q()))},t=function(){var d=document.createDocumentFragment();e=a(".kopex-selected").attr("id"),a("#"+e).removeClass("kopex-selected").removeClass(b.ui_state),d=c.dodajElementyHtml(b.danePlikuKonfiguracyjnego.MENU_POZ_DOST,"przyciskMenuPoziomDost"),a(k).empty(),a(k).dialog("option","width","55%"),a(k).dialog("option","height",a(document).height()/2),a(k).dialog("option","title",b.danePlikuKonfiguracyjnego.MENU_POZ_DOST.tytul),a(k).dialog("open"),a(k).append(d),a("button").button(),a(k).children().first().addClass("kopex-selected").addClass(b.ui_state),c.allignVertical(k)},u=function(){a(".pozDost").on("click",function(){t()}),d.inicjacja(b.poziomDostepu)};return{inicjacja:u,otworzMenu:t,otworzKlawiature:s,zamkniecieOkienka:l}});