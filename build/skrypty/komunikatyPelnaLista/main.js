/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON","kommTCP","komunikaty/przepisz","komunikaty/liczbaDostepnych"],function(a,b,c,d,e,f){"use strict";var g,h,i,j,k=!1,l="#PelnaListaKomm",m="#listaPelnaOLselectable",n=function(){return a("#DialogBlokady").length>0?void require(["komunikaty/zalozBlokade"],function(a){a.zamknij()}):(a(m).empty(),a(l).removeClass("kopex-selected"),a(l).dialog("close"),void a(j).addClass("kopex-selected").addClass(b.ui_state))},o=function(c){var e,i,j,n,o,p,q,r,s,t,u,v,w="",x=document.createDocumentFragment(),y=function(c,d,e,f,g){var h,i;i=null===q?"":"red",h=document.createElement("li"),1===f&&(a(h).addClass("nieBlokowalny"),d+=" ("+b.danePlikuKonfiguracyjnego.TEKSTY.nieBlokowalny+")"),a(h).addClass(void 0!==g&&""!==g?g:"dostepUser"),a(h).text(d).addClass("ui-widget-content").addClass(e).css({"text-align":"left"}).attr("id",c),a(x).append(h)};switch(o=b.tekstyKomunikatow.length-1,c){case"next":g+=1;break;case"prev":g-=1}for(0>g?g=o:g>o&&(g=0),n=1,e=0;16>e;e+=1)r=16*g+e,s="",s="mesg_"+g+"_bit_"+e,void 0!==b.tekstyKomunikatow[g]&&void 0!==b.tekstyKomunikatow[g].bity[e]&&(w="",q=null,d.daneTCP.blockUser[g]&n&&(w+="(Blokada User) ",q="User"),d.daneTCP.blockSrvc[g]&n&&(w+="(Blokada Srvc) ",q="Srvc"),d.daneTCP.blockAdv[g]&n&&(w+="(Blokada Adv) ",q="Adv"),w+=b.danePlikuKonfiguracyjnego.TEKSTY.kod+" "+r+" - "+b.tekstyKomunikatow[g].bity[e].opis,t=b.tekstyKomunikatow[g].bity[e].nb,u=b.tekstyKomunikatow[g].bity[e].dostep,y(s,w,q,t,u)),n<<=1;v=f.inicjacja(),p=b.danePlikuKonfiguracyjnego.TEKSTY.pelnaLista+" - "+g+" / "+o+", "+b.danePlikuKonfiguracyjnego.TEKSTY.pozDost+": "+b.poziomDostepu+", "+b.danePlikuKonfiguracyjnego.TEKSTY.blokLiczbDost+": "+v.dostepne+"/"+v.max,0===a(l).length?(i=document.createElement("div"),a(i).addClass("OknaDialog").addClass("ui-corner-all").attr("id",l.replace("#","")),a("body").append(i),a(l).dialog({modal:!0,autoOpen:!1,closeOnEscape:!1,height:"auto",width:"95%",title:p,show:{delay:200,effect:b.efektShowHide,duration:350},hide:{effect:b.efektShowHide,duration:350}}),j=document.createElement("ol"),a(j).addClass("selectable").attr("id",m.replace("#","")),a(j).append(x),a(l).append(j),a(l).dialog("open"),a(l).addClass("kopex-selected")):(a(m).empty(),a(m).append(x),a(l).dialog("option","title",p)),a(l).one("dialogclose",function(){a(l).remove()}),k===!1?a("#listaPelnaOLselectable").find("li").first().addClass("ui-selected"):(k=!1,a("#listaPelnaOLselectable").find("li").eq(h).addClass("ui-selected"))},p=function(){i=a(".ui-selected"),h=a(i).index(),k=!0,o(g)},q=function(){o("next")},r=function(){o("prev")},s=function(){g=0,o(g)},t=function(){j="#pelnaListaKomuniktow",a(j).on("click",function(){s()})};return{inicjacja:t,nastepnaStrona:q,poprzedniaStrona:r,zamknij:n,odswiez:p}});