/*! Data kompilacji: Fri Oct 03 2014 10:52:28 */
define(["jquery","zmienneGlobalne","underscore"],function(a,b){"use strict";var c=function(c){var d,e=1e4;d=c+" - "+b.danePlikuKonfiguracyjnego.TEKSTY.odswiez+" "+e/1e3+"s",require(["wspolne/brakPolTCP"],function(c){c.inicjacja(b.danePlikuKonfiguracyjnego.TEKSTY.bladPLC1,d),a("#DialogBrakKomunikacjiTCP").addClass("bladFtp")}),setTimeout(function(){location.reload()},e)},d=function(b){var d;return a.ajax({dataType:"json",async:!1,url:b,error:function(a,b){console.log("Blad pobrania danych z pliku JSON, xhr_status:"+a.status+", status:"+b)},success:function(a){"string"==typeof a?c(a):d=a}}),d},e=function(c){a.ajax({dataType:"jsonp",timeout:15e3,data:c,url:b.adresSerweraRozkazy,error:function(a,c){b.czyBladWyslaniaJSON=!0,b.kodBleduWysylania="Blad wyslania danych JSON, xhr_status:"+a.status+", status:"+c},success:function(a){"OK"===a?b.czyBladWyslaniaJSON=!1:"[object Array]"===Object.prototype.toString.call(a)?require(["komunikaty/historia"],function(b){b.inicjacja(a)}):"PAR_OK"===a?(b.czyBladWyslaniaJSON=!1,require(["parametry/odswiez"],function(a){a.przeladuj()})):"BLOK_OK"===a?b.czyBladWyslaniaJSON=!1:"EKS_OK"===a?b.czyBladWyslaniaJSON=!1:(b.czyBladWyslaniaJSON=!0,b.kodBleduWysylania=a)}})},f=function(b,c){var d=[];return a.each(c,function(){var c=this;a.each(c,function(a,e){("grupa"===a||"grupa_2"===a||"plc_nr"===a||"id"===a)&&e===b&&void 0!==c.id&&d.push(c)})}),d},g=function(){b.danePlikuKonfiguracyjnego=d("json/konfiguracja.json"),b.sygnaly=d("json/sygnaly.json"),b.parametry=d("json/parametry.json"),require(["parametry/odswiez"],function(a){a.inicjacja()})};return{inicjacja:g,pobierz:d,wyslij:e,szukajWartosci:f}});