/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON","dodajPojedynczaTabele","ustawKolejnosc"],function(a,b,c,d,e){"use strict";var f,g,h,i=[],j="#dialogDiagnostykaPLC",k=!1,l=function(c){var e,g,i=[];for(a("#tabelaPLCMain").empty(),g=f.length,e=0;g>e;e+=1)f[e].plc_nr===c&&i.push(f[e]);d.dodaj({objects:i,id:"#tabelaPLCMain",cssDescription:"tdOpis",cssValue:"tdWartosc"}),a(j).dialog("option","position",{my:"center",at:"center",of:window}),clearInterval(h),h=setInterval(function(){require(["diagnostykaPLC/odswiezaj"],function(a){a.aktualizuj(i)})},b.czasOdswiezania)},m=function(){a(j).trigger("dialogclose"),clearInterval(h)},n=function(){var c,d,e,f,h;if(0===a(j).length){for(c=document.createElement("div"),a(c).addClass("OknaDialog").addClass("ui-corner-all").attr("id",j.replace("#","")),a("body").append(c),e=.65*a(window).width(),a(j).dialog({autoOpen:!1,modal:!0,closeOnEscape:!1,height:"auto",width:e,title:a(g).text()}),c=document.createElement("div"),a(c).attr("id","radio").attr("text","bla bla"),d=0;d<i.length;d+=1)f=document.createElement("button"),a(f).addClass("radioButtonPLC").attr("id",i[d]).text(i[d]).css({margin:"0.1em"}).appendTo(c).button();a(j).append(c),h=document.createElement("table"),a(h).addClass("tabelaSub").attr("id","tabelaPLCMain"),a(j).append(h),l(i[0]),a(j).dialog("open"),a("#radio").children().first().blur(),a("#radio").children().first().addClass("kopex-selected").addClass(b.ui_state)}a(j).one("dialogclose",function(){a(j).remove(),a(g).addClass("kopex-selected").addClass(b.ui_state)})},o=function(){var b;k||(k=!0,a(".PLC").on("click",function(a){for(g=a.target.id,f=[],i=[],i=g.split("_"),b=0;b<i.length;b+=1)f=f.concat(c.szukajWartosci(i[b]));g="#"+g,f=e.inicjacja({inputData:f,sortData:!1}),n()}))};return{inicjacja:o,zamknij:m,dodajSygnalyPLC:l}});