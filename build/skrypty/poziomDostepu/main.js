/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","wspolne/dodajMenu2","poziomDostepu/odswiezaj"],function(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l="#DialogPoziomDostepu",m=function(){var c;c=a("#keyboard").keyboard().getkeyboard(),void 0!==c&&(c.close(),c.destroy()),a(l).empty(),a(l).dialog("close"),"accordion"===e?a("#"+e).addClass("kopex-selected"):"PelnaListaKomm"===e?a("#"+e).addClass("kopex-selected"):a("#"+e).addClass("kopex-selected").addClass(b.ui_state)},n=function(){var a,b,c,d,e,f,g,l,m=function(a,b){return Math.floor(Math.random()*(b-a))+a};return d=m(0,9),e=m(0,9),f=m(0,9),g=m(0,9),l=d.toString()+e.toString()+f.toString()+g.toString(),c=d+e+f+g,a=Math.floor(c/10),b=c%10,h=1234,i=2*c,j=2*c+1,k=16*a+b,console.log("2resu"+i+"cvrs"+j+"vda"+k),l},o=function(){var a=60*b.czasPodtrzymania*1e3;"Brak"!==b.czasPodtrzymania&&setTimeout(function(){d.inicjacja("User"),console.log("Zdejmuje poziom dostepu: "+b.poziomDostepu)},a)},p=function(){var c,d;d=a("#keyboard").keyboard().getkeyboard(),a("#pLiczbaLosowa").text(b.danePlikuKonfiguracyjnego.TEKSTY.pozDostKodNOK).css({backgroundColor:"red",opacity:"0.8","letter-spacing":"0"}),setTimeout(function(){c=n(),a("#pLiczbaLosowa").text(c).css({backgroundColor:"","letter-spacing":"0.5em"}),d.$el.val(""),a("#keyboard").focus()},1500)},q=function(){var c;"Brak"===b.czasPodtrzymania&&(c=b.danePlikuKonfiguracyjnego.TEKSTY.OK),a("#pLiczbaLosowa").text(c).css({backgroundColor:"green",opacity:"0.8","letter-spacing":"0"}),setTimeout(function(){m()},1500)},r=function(){a("#keyboard").bind("canceled.keyboard",function(){m()}),a("#keyboard").bind("accepted.keyboard",function(a,b,c){switch(f=c.value,g){case"User":h===parseInt(f,10)?(d.inicjacja("User"),q(),o()):p();break;case"User2":i===parseInt(f,10)?(d.inicjacja("User2"),q(),o()):p();break;case"Srvc":j===parseInt(f,10)?(d.inicjacja("Srvc"),q(),o()):p();break;case"Adv":k===parseInt(f,10)?(d.inicjacja("Adv"),q(),o()):p()}})},s=function(c){var e,f,h,i,j;return"wyloguj"===c?(j=a("#wyloguj").text(),a("#wyloguj").addClass("ui-state-error"),a("#wyloguj").button("option","label",b.danePlikuKonfiguracyjnego.TEKSTY.wylogowano),setTimeout(function(){a("#wyloguj").removeClass("ui-state-error"),a("#wyloguj").button("option","label",j),a("#wyloguj").addClass("kopex-selected").addClass(b.ui_state)},1e3),d.inicjacja("User"),f=b.danePlikuKonfiguracyjnego.MENU_POZ_DOST[0].OPIS+". "+b.danePlikuKonfiguracyjnego.TEKSTY.wartAktualna+": "+b.poziomDostepu,void a(l).dialog("option","title",f)):(g=c,f=b.danePlikuKonfiguracyjnego.TEKSTY.pozDostTytul+": "+c,a(l).empty(),a(l).dialog("option","title",f),a(l).dialog("open"),i=n(),h=document.createElement("p"),a(h).attr("id","pLiczbaLosowa").addClass("ui-corner-all").text(i).css({"font-size":"1.2em","text-align":"center","letter-spacing":"0.5em",width:"100%"}),a("#DialogPoziomDostepu").append(h),e=document.createElement("input"),a(e).attr("id","keyboard").attr("type","password").addClass("keyboardNaviPozDost").css({"font-size":"1.5em","text-align":"center",width:"15em"}),a(l).append(e),a("#keyboard").keyboard({alwaysOpen:!0,stayOpen:!0,layout:"custom",usePreview:!1,initialFocus:!1,customLayout:{"default":["6 7 8 9","2 3 4 5","0 1 {bksp} ","{accept} {cancel}"]}}).addNavigation({position:[0,0],toggleMode:!0,focusClass:"hasFocus"}),a("#keyboard").addClass("kopex-selected").focus(),void r())},t=function(){var d,f,g;0===a(l).length&&(d=document.createElement("div"),a(d).addClass("OknaDialog").addClass("ui-corner-all").attr("id",l.replace("#","")),a("body").append(d),f=b.danePlikuKonfiguracyjnego.MENU_POZ_DOST[0].OPIS+". "+b.danePlikuKonfiguracyjnego.TEKSTY.wartAktualna+": "+b.poziomDostepu,a(l).dialog({modal:!0,closeOnEscape:!1,height:a(document).height()/2,width:"60%",title:f,show:{delay:200,effect:b.efektShowHide,duration:350},hide:{effect:b.efektShowHide,duration:350}}),e=a(".kopex-selected").attr("id"),a("#"+e).removeClass("kopex-selected").removeClass(b.ui_state),a(l).dialog("open"),g=c.dodajElementyHtml(b.danePlikuKonfiguracyjnego.MENU_POZ_DOST[0].zawartosc,"przyciskMenuPoziomDost"),a(l).append(g),a("button").button(),a(l).children().first().addClass("kopex-selected").addClass(b.ui_state),c.allignVertical(l)),a(l).one("dialogclose",function(){setTimeout(function(){a(l).remove()},500)})},u=function(){a(".pozDost").on("click",function(){t()}),d.inicjacja(b.poziomDostepu)};return{inicjacja:u,otworzMenu:t,otworzKlawiature:s,zamkniecieOkienka:m}});