/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON"],function(a,b,c){"use strict";var d,e,f,g,h="#dialogWymianaPLC",i=document.createDocumentFragment(),j=function(c){a(h).empty(),require(["wspolne/dodajMenu2"],function(g){i=g.dodajElementyHtml(c,"przyciskMenuPodmianaPLC"),a(h).append(i),a("button").button(),0===a(f).length?(a(h).children().first().addClass("kopex-selected").addClass(b.ui_state),a(h).dialog("option","title",e)):(a(f).addClass("kopex-selected").addClass(b.ui_state),a(h).dialog("option","title",a(d).button("option","label"))),g.allignVertical(h)})},k=function(b){require(["potwierdzenie"],function(d){d.inicjacja({text:b.OPIS}).done(function(d){switch(a(f).addClass("kopex-selected"),d){case"enter":require(["progresBar"],function(a){a.inicjacja({show:!0,status:"sending"})}),c.wyslij(b.rozkaz),console.log(b.rozkaz);break;case"escape":}})})},l=function(){a(h).hasClass("submenu")?(a(h).removeClass("submenu"),j(b.danePlikuKonfiguracyjnego.MENU_ZMIANA_PLC)):a(h).trigger("dialogclose")},m=function(c){var d,i=function(a){var b;for(b=0;b<a.length;b+=1)a[b].id===c&&(d=a[b])};i(b.danePlikuKonfiguracyjnego.MENU_ZMIANA_PLC),f="#"+c,console.log(a(f).button("option","label")),e=a(f).button("option","label"),void 0===d?(a(f).removeClass("kopex-selected"),i(g),k(d)):d.zawartosc.length>1?(a(h).addClass("submenu"),g=d.zawartosc,j(g)):(a(f).removeClass("kopex-selected"),k(d))},n=function(){var c;0===a(h).length?(c=document.createElement("div"),a(c).addClass("OknaDialog").addClass("ui-corner-all").css({padding:"1em",margin:"1em"}).attr("id",h.replace("#","")),a("body").append(c),a(h).dialog({modal:!0,closeOnEscape:!1,autoOpen:!1,height:"auto",width:"60%",title:a(d).text()}),require(["wspolne/dodajMenu2"],function(c){i=c.dodajElementyHtml(b.danePlikuKonfiguracyjnego.MENU_ZMIANA_PLC,"przyciskMenuPodmianaPLC"),a(h).append(i),a(h).dialog("open"),a("button").button(),a(h).children().first().addClass("kopex-selected").addClass(b.ui_state),c.allignVertical(h),a(h).dialog("option","position",{my:"center",at:"center",of:window})})):console.log("dialog juz otwarty: "+h),a(h).one("dialogclose",function(){a(h).remove(),a(d).addClass("kopex-selected").addClass(b.ui_state)})},o=function(b){d="#"+b,a(d).on("click",function(){n()})};return{inicjacja:o,wcisnietoEnter:m,wcisnietoEscape:l}});