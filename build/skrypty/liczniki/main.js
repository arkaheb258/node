/*! Data kompilacji: Fri Oct 03 2014 10:52:28 */
define(["jquery","zmienneGlobalne","obslugaJSON","kommTCP"],function(a,b,c,d){"use strict";var e,f,g=!1,h=[],i=function(){clearInterval(e),a("#DialogLiczniki").remove(),a(f).addClass("kopex-selected").addClass(b.ui_state)},j=function(){var b,c,e,f,g,i,j=[],k=150,l=100,m=new Raphael("DialogLiczniki"),n={font:"12px 'Fontin Sans', Fontin-Sans, sans-serif","font-weight":"bold",fill:"#999999"};for(b=0;b<h.length;b+=1)j[b]=0===d.daneTCP.analog[h[b].poz_ramka]?.01:d.daneTCP.analog[h[b].poz_ramka];m.setSize("95%","95%"),a("#DialogLiczniki").dialog("open"),a("#DialogLiczniki").addClass("kopex-selected"),i=10,f=m.text(k,i,"Liczniki calkowite:").attr(n),i+=f.getBBox().height+10+l,c=m.piechart(k,i,l,[j[0],j[1],j[2],j[3],j[4]],{legend:[h[0].opis_pelny+" : "+d.daneTCP.analog[h[0].poz_ramka]+" "+h[0].jednostka,h[1].opis_pelny+" : "+d.daneTCP.analog[h[1].poz_ramka]+" "+h[0].jednostka,h[2].opis_pelny+" : "+d.daneTCP.analog[h[2].poz_ramka]+" "+h[0].jednostka,h[3].opis_pelny+" : "+d.daneTCP.analog[h[3].poz_ramka]+" "+h[0].jednostka,h[4].opis_pelny+" : "+d.daneTCP.analog[h[4].poz_ramka]+" "+h[0].jednostka],legendpos:"east",legendcolor:"#999999",preserveValues:!0}),i+=l+20,g=m.text(k,i,"Liczniki dzienne:").attr(n),i+=g.getBBox().height+10+l,e=m.piechart(k,i,l,[j[5],j[6],j[7],j[8],j[9]],{legend:[h[5].opis_pelny+" : "+d.daneTCP.analog[h[5].poz_ramka]+" "+h[5].jednostka,h[6].opis_pelny+" : "+d.daneTCP.analog[h[6].poz_ramka]+" "+h[6].jednostka,h[7].opis_pelny+" : "+d.daneTCP.analog[h[7].poz_ramka]+" "+h[7].jednostka,h[8].opis_pelny+" : "+d.daneTCP.analog[h[8].poz_ramka]+" "+h[8].jednostka,h[9].opis_pelny+" : "+d.daneTCP.analog[h[9].poz_ramka]+" "+h[9].jednostka],legendpos:"east",legendcolor:"#999999",preserveValues:!0})},k=function(){var d;g===!1&&(h=h.concat(c.szukajWartosci("licznikiCzasuPracy1",b.sygnaly)),h=h.concat(c.szukajWartosci("licznikiCzasuPracy2",b.sygnaly)),g=!0),d=document.createElement("div"),a(d).addClass("OknaDialog").addClass("ui-corner-all").attr("id","DialogLiczniki"),a("body").append(d),a("#DialogLiczniki").dialog({autoOpen:!1,modal:!0,closeOnEscape:!1,height:a(document).height()/1.2,width:"70%",title:"Liczniki czasu pracy"}),j()},l=function(b){f="#"+b,a(f).on("click",function(){k()})};return{inicjacja:l,zamknij:i}});