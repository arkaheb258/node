/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON","wspolne/dodajMenuRozwijane"],function(a,b,c,d){"use strict";var e,f="#DialogRozkazy",g=function(){a(e).addClass("kopex-selected").addClass(b.ui_state),a(f).dialog("close")},h=function(){var c,e,f,g,h,i=document.createDocumentFragment(),j={};for(j=b.danePlikuKonfiguracyjnego.ROZKAZY,h=j.length,f=0;h>f;f+=1)if((j[f].typKombajnu===b.typKombajnu||"ALL"===j[f].typKombajnu)&&j[f].widocznosc===!0)for(e=d.dodaj("key"+f,j[f],!1),a(i).append(e),c=i.lastChild.lastChild,g=0;g<j[f].zawartosc.length;g+=1)j[f].zawartosc[g].widocznosc===!0&&(e=d.dodaj(f+"__"+g,j[f].zawartosc[g],!0),c.appendChild(e));a("#menuRozkazy").append(i),a("#menuRozkazy").menu("refresh")},i=function(){var c,d;c=document.createElement("div"),a(c).addClass("OknaDialog").attr("id",f.replace("#","")),a("body").append(c),a(f).dialog({autoOpen:!1,modal:!0,closeOnEscape:!1,height:a(document).height()-200,width:"90%",title:a(e).text(),show:{delay:200,effect:b.efektShowHide,duration:350},hide:{effect:b.efektShowHide,duration:350}}),a(f).dialog("open"),d=document.createElement("ul"),a(d).attr("id","menuRozkazy"),a(f).append(d),a("#menuRozkazy").menu(),h(),a("#menuRozkazy").addClass("kopex-selected"),a(".ui-menu").css({width:"50%","text-align":"left"}),a(".ui-menu .ui-menu").css({width:"90%","text-align":"left"}),a("#menuRozkazy").menu("next"),a(f).one("dialogclose",function(){a(f).remove()})},j=function(d){void 0===b.danePlikuKonfiguracyjnego.ROZKAZY&&(console.log("nie istnieje struktura json z rozkazami"),b.danePlikuKonfiguracyjnego=c.pobierz("konfiguracja.json")),e="#"+d,a(e).on("click",function(){i()})};return{inicjacja:j,otworz:i,zamknij:g}});