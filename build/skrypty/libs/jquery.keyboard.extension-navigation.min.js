/*! Data kompilacji: Fri Oct 03 2014 10:52:28 */
!function(a){a.keyboard=a.keyboard||{},a.keyboard.navigationKeys={toggle:112,enter:13,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40},a.fn.addNavigation=function(b){return this.each(function(){var c,d,e=a(this).data("keyboard");d={position:[0,0],toggleMode:!1,focusClass:"hasFocus"},e&&(e.navigation_options=c=a.extend({},d,b),e.navigation_keys=d=a.extend({},a.keyboard.navigationKeys),e.saveNav=[e.options.tabNavigation,e.options.enterNavigation],e.allNavKeys=a.map(d,function(a){return a}),e.navigation_init=function(){e.$keyboard[c.toggleMode?"addClass":"removeClass"](c.focusClass).find(".ui-keyboard-keyset:visible").find('.ui-keyboard-button[data-pos="'+c.position[0]+","+c.position[1]+'"]').addClass("ui-state-hover"),e.$preview.unbind("keydown.keyboardNav").bind("keydown.keyboardNav",function(a){return e.checkKeys(a.which)})},e.checkKeys=function(b,d){if("undefined"!=typeof b){var f=e.navigation_keys;if((b===f.toggle||d)&&(c.toggleMode=d?!1:!c.toggleMode,e.options.tabNavigation=c.toggleMode?!1:e.saveNav[0],e.options.enterNavigation=c.toggleMode?!1:e.saveNav[1]),e.$keyboard[c.toggleMode?"addClass":"removeClass"](c.focusClass),c.toggleMode&&b===f.enter)return e.$keyboard.find(".ui-keyboard-keyset:visible").find('.ui-keyboard-button[data-pos="'+c.position[0]+","+c.position[1]+'"]').trigger("repeater.keyboard"),!1;if(c.toggleMode&&0<=a.inArray(b,e.allNavKeys))return e.navigateKeys(b),!1}},e.navigateKeys=function(a,b,d){d=d||c.position[1],b=b||c.position[0];var f=e.$keyboard.find(".ui-keyboard-keyset:visible"),g=f.find(".ui-keyboard-button-endrow").length-1,h=f.find('.ui-keyboard-button[data-pos^="'+b+',"]').length-1,i=e.navigation_keys;switch(a){case i.pageup:b=0;break;case i.pagedown:b=g;break;case i.end:d=h;break;case i.home:d=0;break;case i.left:d+=d>0?-1:0;break;case i.up:b+=b>0?-1:0;break;case i.right:d+=1;break;case i.down:b+=b+1>g?0:1}h=f.find('.ui-keyboard-button[data-pos^="'+b+',"]').length-1,d>h&&(d=h),f.find(".ui-state-hover").removeClass("ui-state-hover"),f.find('.ui-keyboard-button[data-pos="'+b+","+d+'"]').addClass("ui-state-hover"),c.position=[b,d]},e.options.alwaysOpen&&e.isVisible&&(e.$keyboard.find(".ui-state-hover").removeClass("ui-state-hover"),e.navigation_init()),e.$el.bind("visible.keyboard",function(){e.$keyboard.find(".ui-state-hover").removeClass("ui-state-hover"),e.navigation_init()}).bind("inactive.keyboard hidden.keyboard",function(a){e.checkKeys(a.which,!0)}).bind("navigate navigateTo",function(a,b,c){b=isNaN(b)?b.toLowerCase():b,e.navigation_keys.hasOwnProperty(b)?e.checkKeys(e.navigation_keys[b]):e.navigateKeys(null,b,c)}))})}}(jQuery);