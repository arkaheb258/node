/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON","d3","c3","wspolne/odswiezajObiekt"],function(a,b,c,d,e,f){"use strict";var g,h,i=!1,j="#idMainDivWykresy",k=!1,l=!1,m=["x1",(new Date).getTime()],n=["_1",5],o=function(a){var c,d,e;for(d=b.daneDoWykresow.length,c=0;d>c;c+=1)b.daneDoWykresow[c].id===a&&(e=f.typAnalog(b.daneDoWykresow[c]));return void 0===e&&(e=0),e},p=function(){h=setInterval(function(){k||l&&(m.push((new Date).getTime()),n.push(o(n[0])),10===m.length&&(g.flow({columns:[m,n],length:0,duration:0,to:(new Date).setSeconds((new Date).getSeconds()-120),done:function(){}}),m.length=1,n.length=1))},200)},q=function(b,c){var d;0===a(j).length?(n[0]=c[0],d=document.createElement("div"),a(d).attr("id",j.replace("#","")).css({border:"0.1em solid","border-color":"grey","border-radius":"0.5em",padding:"1",width:"99%",height:"90%",fill:"grey",margin:"2px 2px 2px 2px"}),a(b).append(d),g=e.generate({bindto:j,data:{interaction:{enabled:!1},x:"x1",empty:{label:{text:"No Data"}},columns:[m,n]},onrendered:function(){i||(i=!0,l=!0,p())},axis:{x:{type:"timeseries",tick:{fit:!1,count:20,format:"%H:%M:%S"}}},point:{show:!1}})):(k="1"===c[0]?!0:!1,n[0]!==c[0]&&(l=!1,g.unload({id:n[0],done:function(){m.length=1,n.length=1,n[0]=c[0],setTimeout(function(){l=!0},1e3)}}))),a(b).one("dialogclose",function(){l=!1,clearInterval(h),i=!1,g=g.destroy(),n.length=0})};return{inicjacja:q}});