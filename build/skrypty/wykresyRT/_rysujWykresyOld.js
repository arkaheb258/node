/*! Data kompilacji: Tue Jul 28 2015 11:01:42 */
define(["jquery","zmienneGlobalne","obslugaJSON","d3","c3","wspolne/odswiezajObiekt"],function(a,b,c,d,e,f){"use strict";var g,h,i=!1,j="#idMainDivWykresy",k=!1,l=!1,m=!1,n=["x1",(new Date).getTime()],o={data1:["_1",5],data2:["_2",10],data3:["_3",15]},p=function(){n.length=1,o.data1.length=1,o.data2.length=1,o.data3.length=1},q=function(a,b){return Math.floor(Math.random()*(b-a))+a},r=function(){h=setInterval(function(){m||(n.push((new Date).getTime()),o.data1.push(q(20,30)),o.data2.push(q(35,60)),o.data3.push(q(75,90)),5===n.length&&k&&(k=!1,g.flow({columns:[n,o.data1,o.data2,o.data3],length:0,duration:0,to:(new Date).setSeconds((new Date).getSeconds()-60),done:function(){}}),p()))},500)},s=function(b,c){var d,f,p,q=[];0===a(j).length?(o.data1[0]=c[0],o.data2[0]=c[1],o.data3[0]=c[2],d=document.createElement("div"),a(d).attr("id",j.replace("#","")).css({border:"0.1em solid","border-color":"grey","border-radius":"0.5em",padding:"1",width:"99%",height:"90%",fill:"grey",margin:"2px 2px 2px 2px"}),a(b).append(d),g=e.generate({bindto:j,data:{interaction:{enabled:!1},x:"x1",empty:{label:{text:"No Data"}},columns:[n,o.data1,o.data2,o.data3]},transition:{},onrendered:function(){k=!0,i||(i=!0,r())},axis:{x:{type:"timeseries",tick:{fit:!1,count:10,culling:{max:4},format:"%H:%M:%S"}}},point:{show:!1}})):(m="1"===c[0]&&"2"===c[1]&&"3"===c[2]?!0:!1,f=0,a.each(o,function(a,b){if(b[0]!==c[f]){for(q.push(b[0]),p=0;p<b.length;p+=1)b[p]=0;b[0]=c[f]}f+=1}),q.length>0&&(k=!1,g.unload({ids:q,done:function(){q.length=0}}))),a.each(o,function(a,b){b[0].length<3?g.hide(b[0]):g.show(b[0])}),a(b).one("dialogclose",function(){clearInterval(h),i=!1,l=!1,o.data1.length=0,o.data2.length=0,o.data3.length=0})};return{inicjacja:s}});